import{Q,a as h,b as x,u as U,c as D}from"./checklists-BRr5bxl_.js";import{H as M,_ as $,V as b}from"./ChecklistCaption.vue_vue_type_script_setup_true_lang-YrJKwSe2.js";import{F as w,a as B,r as I,w as A,H as y,E as a,C as f,B as r,I as H,J as L,A as i,O as P,P as _,S as T,T as q,L as z,M as V,N as u,U as E,V as F}from"./index-D-phTa58.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"divider-content text-grey-8"},O={class:"divider-text"},R=w({__name:"ChecklistView",props:{checklist:{},allChecked:{type:Boolean}},emits:["update:allChecked"],setup(C,{emit:d}){const p=C,v=d,s=B(()=>p.checklist?.items),t=I(s.value.map(()=>!1));A(t,()=>{const e=s.value.every((l,o)=>t.value[o]||c(l));v("update:allChecked",e)},{deep:!0});const m=e=>{t.value[e]=!t.value[e]},c=e=>e.caption.startsWith("--"),S=e=>e.replace(/^-*/,""),N=e=>{if(s.value.length<e-2)return!1;const l=s.value[e+1];return l?c(l):!1};return(e,l)=>(a(),y("div",null,[f(x,null,{default:r(()=>[(a(!0),y(H,null,L(s.value,(o,n)=>(a(),i(Q,{key:o.id,class:P({"divider-item":c(o)||N(n)})},{default:r(()=>[c(o)?_("",!0):(a(),i(h,{key:0,side:""},{default:r(()=>[f(T,{color:"green",modelValue:t.value[n],"onUpdate:modelValue":g=>t.value[n]=g},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)),c(o)?(a(),i(h,{key:2,class:"divider-item"},{default:r(()=>[u("div",J,[l[0]||(l[0]=u("div",{class:"divider-line left"},null,-1)),u("div",O,V(S(o.caption).toUpperCase()),1),l[1]||(l[1]=u("div",{class:"divider-line right"},null,-1))])]),_:2},1024)):(a(),i(h,{key:1,style:q({color:t.value[n]?"green":"inherit",cursor:"pointer"}),onClick:g=>m(n)},{default:r(()=>[z(V(o.caption),1)]),_:2},1032,["style","onClick"]))]),_:2},1032,["class"]))),128))]),_:1})]))}}),W=j(R,[["__scopeId","data-v-ffb82821"]]),G={class:"col"},ee=w({__name:"ChecklistViewPage",setup(C){const d=E(),p=U(),v=+(d.params&&d.params.id||0),s=B(()=>p.checklists.find(k=>k.id===v)),t=I(!1);return(k,m)=>(a(),i(D,{class:"row items-start justify-evenly"},{default:r(()=>[u("div",G,[f(M),s.value?(a(),i($,{key:0,checklist:s.value,viewMode:F(b).View,allChecked:t.value,class:"q-mb-sm q-mx-sm"},null,8,["checklist","viewMode","allChecked"])):_("",!0),s.value?(a(),i(W,{key:1,checklist:s.value,allChecked:t.value,"onUpdate:allChecked":m[0]||(m[0]=c=>t.value=c)},null,8,["checklist","allChecked"])):_("",!0)])]),_:1}))}});export{ee as default};

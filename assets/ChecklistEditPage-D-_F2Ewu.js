import{u as Lt,b as Cn,Q as Sn,a as zt,c as On}from"./checklists-i4N8sQtx.js";import{V as Rn,_ as An,H as In}from"./ChecklistCaption.vue_vue_type_script_setup_true_lang-p6qegU4P.js";import{F as ce,r as Mt,w as Bn,H as Be,E as $,C as N,V as Pn,Q as jt,h as Ft,B as W,U as qe,I as _n,J as Tn,A as We,K as zn,W as Nn,R as kn,S as Ln,a as Mn,X as jn,T as Fn,G as Vn}from"./index-CfCXj2wE.js";import{_ as Hn}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Xn={class:"item-edit"},Gn=ce({__name:"ChecklistItemEdit",props:{item:{}},emits:["update","delete"],setup(x,{emit:I}){const D=x,b=I,O=Mt(D.item.caption);Bn(O,C=>{b("update",C)});const z=()=>{b("delete")};return(C,M)=>($(),Be("div",Xn,[N(Pn,{modelValue:O.value,"onUpdate:modelValue":M[0]||(M[0]=_=>O.value=_),outlined:""},null,8,["modelValue"]),N(jt,{round:"",icon:"delete",onClick:z})]))}}),Yn=Hn(Gn,[["__scopeId","data-v-79225f28"]]);var se={exports:{}},qn=se.exports,Nt;function Wn(){return Nt||(Nt=1,function(x,I){(function(D,b){b(I)})(qn,function(D){var b,O,z="smooth-dnd-container-instance",C="smooth-dnd-draggable-wrapper",M="animated",_="__smooth_dnd_draggable_translation_value",V="__smooth_dnd_draggable_visibility_value",Q="smooth-dnd-ghost",E="smooth-dnd-container",T="smooth-dnd-extra-size-for-insertion",P="smooth-dnd-stretcher-element",H="smooth-dnd-stretcher-instance",de="smooth-dnd-disable-touch-action",fe="smooth-dnd-no-user-select",$e="smooth-dnd-prevent-auto-scroll-class",Pe="smooth-dnd-drop-preview-default-class",_e="smooth-dnd-drop-preview-inner-class",ge="smooth-dnd-drop-preview-constant-class",Te="smooth-dnd-drop-preview-flex-container-class",Xt=Object.freeze({containerInstance:z,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:C,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:M,translationValue:_,visibilityValue:V,ghostClass:Q,containerClass:E,extraSizeForInsertion:T,stretcherElementClass:P,stretcherElementInstance:H,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:de,noUserSelectClass:fe,preventAutoScrollClass:$e,dropPlaceholderDefaultClass:Pe,dropPlaceholderInnerClass:_e,dropPlaceholderWrapperClass:ge,dropPlaceholderFlexContainerClass:Te}),Z={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function ze(e){return(ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){return function(t){if(Array.isArray(t)){for(var n=0,o=new Array(t.length);n<t.length;n++)o[n]=t[n];return o}}(e)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(O=b||(b={})).x="x",O.y="y",O.xy="xy";function Ue(e,t,n){return n==="x"?{left:Math.max(e.left,t.left),top:e.top,right:Math.min(e.right,t.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,t.top),right:e.right,bottom:Math.min(e.bottom,t.bottom)}}function Gt(e){var t=window.getComputedStyle(e),n=t.overflow;if(n==="auto"||n==="scroll")return b.xy;var o=t["overflow-x"],r=o==="auto"||o==="scroll",a=t["overflow-y"],u=a==="auto"||a==="scroll";return r&&u?b.xy:r?b.x:u?b.y:null}function Je(e,t){var n=window.getComputedStyle(e),o=n.overflow,r=n["overflow-".concat(t)];return o==="auto"||o==="scroll"||r==="auto"||r==="scroll"}var Yt=function(e,t){return{left:Math.max(e.left,t.left),top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom)}},Ke=function(e){var t=e.getBoundingClientRect(),n={left:t.left,right:t.right,top:t.top,bottom:t.bottom};if(me(e,"x")&&!pe(e,"x")){var o=n.right-n.left;n.right=n.right+e.scrollWidth-o}if(me(e,"y")&&!pe(e,"y")){var r=n.bottom-n.top;n.bottom=n.bottom+e.scrollHeight-r}return n},pe=function(e,t){var n=window.getComputedStyle(e),o=n.overflow,r=n["overflow-".concat(t)];return o==="auto"||o==="scroll"||o==="hidden"||r==="auto"||r==="scroll"||r==="hidden"},me=function(e,t){return t==="x"?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},Ze=function(e,t){var n=e,o=t||Ke(e);for(n=e.parentElement;n;)me(n,"x")&&pe(n,"x")&&(o=Ue(o,n.getBoundingClientRect(),"x")),me(n,"y")&&pe(n,"y")&&(o=Ue(o,n.getBoundingClientRect(),"y")),n=n.parentElement;return o},qt=function(e,t){for(var n=e;n;){if(n[z]){var o=function(){var r=n[z];if(t.some(function(a){return a===r}))return{v:r}}();if(ze(o)==="object")return o.v}n=n.parentElement}return null},ee=function(e,t){for(var n=e;n;){if(n.matches(t))return n;n=n.parentElement}return null},Ne=function(e,t){return-1<e.className.split(" ").map(function(n){return n}).indexOf(t)},j=function(e,t){if(e){var n=e.className.split(" ").filter(function(o){return o});n.indexOf(t)===-1&&(n.unshift(t),e.className=n.join(" "))}},ve=function(e,t){if(e){var n=e.className.split(" ").filter(function(o){return o&&o!==t});e.className=n.join(" ")}},Wt=function(e,t){return e.removeChild(e.children[t])},$t=function(e,t,n){n>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])},Qt=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},et=function(e){if(e){var t=window.getComputedStyle(e);if(t)return t.cursor}return null};function ke(e){return!(e.bottom<=e.top||e.right<=e.left)}function tt(e){var t=e.element,n=e.draggables;return function(o,r){var a=o,u=a.removedIndex,s=a.addedIndex,d=a.droppedElement,i=null;if(u!==null&&(i=Wt(t,u),n.splice(u,1)),s!==null){var l=window.document.createElement("div");l.className="".concat(C),l.appendChild(i&&i.firstElementChild?i.firstElementChild:d),$t(t,l,s),s>=n.length?n.push(l):n.splice(s,0,l)}r&&r(o)}}var Ut=Object.freeze({domDropHandler:tt,reactDropHandler:function(){return{handler:function(){return function(e,t){t&&t(e)}}}}}),Jt={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},Kt={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function Zt(e,t,n){e[T]=0;var o=function(i){return{get:function(l,c){return l[i[c]||c]},set:function(l,c,f){l[i[c]]=i.setters[c]?i.setters[c](f):f}}}(t==="horizontal"?Jt:Kt),r={translation:0};function a(){u(e),function(i){var l=i.getBoundingClientRect();r.scaleX=i.offsetWidth?(l.right-l.left)/i.offsetWidth:1,r.scaleY=i.offsetHeight?(l.bottom-l.top)/i.offsetHeight:1}(e)}function u(i){r.rect=Ke(i);var l=Ze(i,r.rect);ke(l)&&(r.lastVisibleRect=r.visibleRect),r.visibleRect=l}function s(i){var l=i;if(l.tagName){var c=l.getBoundingClientRect();return t==="vertical"?c.bottom-c.top:c.right-c.left}return o.get(i,"size")*o.get(r,"scale")}function d(i){return o.get(i,"dragPosition")}return window.addEventListener("resize",function(){u(e)}),setTimeout(function(){a()},10),{getSize:s,getContainerRectangles:function(){return{rect:r.rect,visibleRect:r.visibleRect,lastVisibleRect:r.lastVisibleRect}},getBeginEndOfDOMRect:function(i){return{begin:o.get(i,"begin"),end:o.get(i,"end")}},getBeginEndOfContainer:function(){return{begin:o.get(r.rect,"begin")+r.translation,end:o.get(r.rect,"end")+r.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:o.get(r.visibleRect,"begin")+r.translation,end:o.get(r.visibleRect,"end")+r.translation}},getBeginEnd:function(i){var l=function(c){return(o.get(c,"distanceToParent")+(c[_]||0))*o.get(r,"scale")}(i)+(o.get(r.rect,"begin")+r.translation)-o.get(e,"scrollValue");return{begin:l,end:l+s(i)*o.get(r,"scale")}},getAxisValue:d,setTranslation:function(i,l){l?o.set(i.style,"translate",l):i.style.removeProperty("transform"),i[_]=l},getTranslation:function(i){return i[_]},setVisibility:function(i,l){i[V]!==void 0&&i[V]===l||(l?i.style.removeProperty("visibility"):i.style.visibility="hidden",i[V]=l)},isVisible:function(i){return i[V]===void 0||i[V]},isInVisibleRect:function(i,l){var c=r.visibleRect,f=c.left,g=c.top,p=c.right,y=c.bottom;y-g<2&&(y=g+30);var v=r.rect;return t==="vertical"?i>v.left&&i<v.right&&g<l&&l<y:f<i&&i<p&&l>v.top&&l<v.bottom},setSize:function(i,l){o.set(i,"setSize",l)},getTopLeftOfElementBegin:function(i){var l=0;return{top:t==="horizontal"?(l=i,r.rect.top):(l=r.rect.left,i),left:l}},getScrollSize:function(i){return o.get(i,"scrollSize")},getScrollValue:function(i){return o.get(i,"scrollValue")},setScrollValue:function(i,l){return o.set(i,"scrollValue",l)},invalidate:a,invalidateRects:function(){u(e)},getPosition:function(i){return d(i)},setBegin:function(i,l){o.set(i,"begin",l)}}}function nt(e,t,n){var o,r,a,u=n.left,s=n.right,d=n.top,i=n.bottom,l=e.x,c=e.y;if(l<u||s<l||c<d||i<c)return null;a=t==="x"?(o=u,r=s,l):(o=d,r=i,c);var f=r-o,g=400<f?100:f/4;return r-a<g?{direction:"end",speedFactor:(g-(r-a))/g}:a-o<g?{direction:"begin",speedFactor:(g-(a-o))/g}:null}function he(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",n=null,o=null,r=null,a=null;return{animate:function(u,s){r=u,a=s,function d(){n===null&&(n=requestAnimationFrame(function(i){o===null&&(o=i);var l=i-o;o=i;var c,f,g,p=l/1e3*a;f=t,g=p=r==="begin"?0-p:p,(c=e)&&(c!==window?f==="x"?c.scrollLeft+=g:c.scrollTop+=g:f==="x"?c.scrollBy(g,0):c.scrollBy(0,g)),n=null,d()}))}()},stop:function(){n!==null&&(cancelAnimationFrame(n),n=null),o=null}}}function en(e){return function(){return Ze(e,e.getBoundingClientRect())}}var X,ye,S,tn=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,n=e.reduce(function(o,r){var a=function(u){for(var s=[],d=u.element;d;){var i=Gt(d);if(i&&!Ne(d,$e)){var l={};switch(i){case b.xy:l.x={animator:he(d,"x")},l.y={animator:he(d,"y")};break;case b.x:l.x={animator:he(d,"x")};break;case b.y:l.y={animator:he(d,"y")}}s.push({axisAnimations:l,getRect:en(d),scrollerElement:d})}d=d.parentElement}return s}(r).filter(function(u){return!o.find(function(s){return s.scrollerElement===u.scrollerElement})});return[].concat(Qe(o),Qe(a))},[]);return function(o){var r=o.draggableInfo;if(o.reset)n.forEach(function(s){s.axisAnimations.x&&s.axisAnimations.x.animator.stop(),s.axisAnimations.y&&s.axisAnimations.y.animator.stop()});else if(r){(function(s,d){s.forEach(function(i){var l=i.axisAnimations,c=(0,i.getRect)();l.x&&(l.x.scrollParams=nt(d,"x",c),i.cachedRect=c),l.y&&(l.y.scrollParams=nt(d,"y",c),i.cachedRect=c)})})(n,r.mousePosition),n.forEach(function(s){var d=s.axisAnimations,i=d.x,l=d.y;if(i)if(i.scrollParams){var c=i.scrollParams,f=c.direction,g=c.speedFactor;i.animator.animate(f,g*t)}else i.animator.stop();if(l)if(l.scrollParams){var p=l.scrollParams,y=p.direction,v=p.speedFactor;l.animator.animate(y,v*t)}else l.animator.stop()});var a=n.filter(function(s){return s.cachedRect});if(a.length&&1<a.length){var u=function(s,d){for(var i=document.elementFromPoint(d.x,d.y);i;){var l=s.find(function(c){return c.scrollerElement===i});if(l)return l;i=i.parentElement}return null}(a,r.mousePosition);u&&a.forEach(function(s){s!==u&&(s.axisAnimations.x&&s.axisAnimations.x.animator.stop(),s.axisAnimations.y&&s.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((X=Element)&&X.prototype&&!X.prototype.matches&&(X.prototype.matches=X.prototype.matchesSelector||X.prototype.mozMatchesSelector||X.prototype.msMatchesSelector||X.prototype.oMatchesSelector||X.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),(ye=Node||Element)&&ye.prototype&&ye.prototype.firstElementChild==null&&Object.defineProperty(ye.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0;e=t[n++];)if(e.nodeType===1)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof e!="function")throw new TypeError;for(var t=Object(this),n=t.length>>>0,o=2<=arguments.length?arguments[1]:void 0,r=0;r<n;r++)if(r in t&&e.call(o,t[r],r,t))return!0;return!1}));var ot={overflow:"hidden",display:"block"},rt={height:"100%",display:"table-cell","vertical-align":"top"},nn=(R(S={},".".concat(E),{position:"relative","min-height":"30px","min-width":"30px"}),R(S,".".concat(E,".horizontal"),{display:"table"}),R(S,".".concat(E,".horizontal > .").concat(P),{display:"inline-block"}),R(S,".".concat(E,".horizontal > .").concat(C),rt),R(S,".".concat(E,".vertical > .").concat(C),ot),R(S,".".concat(C),{"box-sizing":"border-box"}),R(S,".".concat(C,".horizontal"),rt),R(S,".".concat(C,".vertical"),ot),R(S,".".concat(C,".animated"),{transition:"transform ease"}),R(S,".".concat(Q),{"box-sizing":"border-box"}),R(S,".".concat(Q,".animated"),{transition:"all ease-in-out"}),R(S,".".concat(Q," *"),{"pointer-events":"none"}),R(S,".".concat(de," *"),{"touch-action":"none","-ms-touch-action":"none"}),R(S,".".concat(fe),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),R(S,".".concat(_e),{flex:"1"}),R(S,".".concat(E,".horizontal > .").concat(ge),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),R(S,".".concat(E,".vertical > .").concat(ge),{overflow:"hidden",display:"block",width:"100%"}),R(S,".".concat(Te),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),R(S,".".concat(Pe),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),S);function Le(e){return Object.keys(e).reduce(function(t,n){var o=e[n];return ze(o)==="object"?"".concat(t).concat(n,"{").concat(Le(o),"}"):"".concat(t).concat(n,":").concat(o,";")},"")}function it(e){if(e&&typeof window<"u"){var t=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),o=Le({"body *":{cursor:"".concat(e," !important")}});return n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(window.document.createTextNode(o)),t.appendChild(n),n}return null}var U,be,on=["mousedown","touchstart"],we=["mousemove","touchmove"],xe=["mouseup","touchend"],A=null,G=null,w=null,m=null,k=[],Y=!1,Ee=!1,te=!1,De=!1,J=null,L=null,ne=null,oe=null,at=(U=null,be=!1,{start:function(){be||(be=!0,function e(){U=requestAnimationFrame(function(){A.forEach(function(t){return t.layout.invalidateRects()}),setTimeout(function(){U!==null&&e()},50)})}())},stop:function(){U!==null&&(cancelAnimationFrame(U),U=null),be=!1}}),rn=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function an(){typeof window<"u"&&on.forEach(function(e){window.document.addEventListener(e,sn,{passive:!1})})}function lt(){return m&&m.ghostParent?m.ghostParent:G&&G.parentElement||window.document.body}var re,Me,st,Ce,je,Fe,ln=(Ce=null,je=1,Fe=5,function(e,t,n){re=Oe(e),st=n,(Me=typeof t=="number"?t:rn?200:0)&&(Ce=setTimeout(ft,Me)),we.forEach(function(o){return window.document.addEventListener(o,ut)},{passive:!1}),xe.forEach(function(o){return window.document.addEventListener(o,ct)},{passive:!1}),window.document.addEventListener("drag",dt,{passive:!1})});function ut(e){var t=Oe(e),n=t.clientX,o=t.clientY;if(Me)(Math.abs(re.clientX-n)>Fe||Math.abs(re.clientY-o)>Fe)&&Se();else if(Math.abs(re.clientX-n)>je||Math.abs(re.clientY-o)>je)return ft()}function ct(){Se()}function dt(){Se()}function Se(){clearTimeout(Ce),we.forEach(function(e){return window.document.removeEventListener(e,ut)},{passive:!1}),xe.forEach(function(e){return window.document.removeEventListener(e,ct)},{passive:!1}),window.document.removeEventListener("drag",dt,{passive:!1})}function ft(){clearTimeout(Ce),Se(),st()}function sn(e){var t=Oe(e);if(!Y&&(t.button===void 0||t.button===0)&&(G=ee(t.target,"."+C))){var n=ee(G,"."+E),o=k.filter(function(s){return s.element===n})[0],r=o.getOptions().dragHandleSelector,a=o.getOptions().nonDragAreaSelector,u=!0;r&&!ee(t.target,r)&&(u=!1),a&&ee(t.target,a)&&(u=!1),u&&(o.layout.invalidate(),j(window.document.body,de),j(window.document.body,fe),window.document.addEventListener("mouseup",function s(){ve(window.document.body,de),ve(window.document.body,fe),window.document.removeEventListener("mouseup",s)})),u&&ln(t,o.getOptions().dragBeginDelay,function(){Qt(),bt(t,et(e.target)),we.forEach(function(s){window.document.addEventListener(s,gt,{passive:!1})}),xe.forEach(function(s){window.document.addEventListener(s,Ve,{passive:!1})})})}}function gt(e){e.preventDefault();var t=Oe(e);if(m){var n=m.container.getOptions();n.behaviour==="contain"?function(o){var r,a,u,s,d=o.clientX,i=o.clientY,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",c=m.container.layout.getBeginEndOfContainerVisibleRect();s=l==="vertical"?(r=i,a="y",u="top",m.size.offsetHeight):(r=d,a="x",u="left",m.size.offsetWidth);var f=c.begin,g=c.end-s,p=Math.max(f,Math.min(g,r+w.positionDelta[u]));w.topLeft[a]=p,m.position[a]=Math.max(c.begin,Math.min(c.end,r+w.centerDelta[a])),m.mousePosition[a]=Math.max(c.begin,Math.min(c.end,r)),m.position[a]<c.begin+s/2&&(m.position[a]=c.begin+2),m.position[a]>c.end-s/2&&(m.position[a]=c.end-2)}(t,n.orientation):ne?ne==="y"?(w.topLeft.y=t.clientY+w.positionDelta.top,m.position.y=t.clientY+w.centerDelta.y,m.mousePosition.y=t.clientY):ne==="x"&&(w.topLeft.x=t.clientX+w.positionDelta.left,m.position.x=t.clientX+w.centerDelta.x,m.mousePosition.x=t.clientX):(w.topLeft.x=t.clientX+w.positionDelta.left,w.topLeft.y=t.clientY+w.positionDelta.top,m.position.x=t.clientX+w.centerDelta.x,m.position.y=t.clientY+w.centerDelta.y,m.mousePosition.x=t.clientX,m.mousePosition.y=t.clientY),Ge(),(De=!J(m))&&un()}else bt(t,et(e.target))}var ie,pt,mt,K,un=(ie=vt,mt=!(pt=20),K=null,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];K&&clearTimeout(K),mt&&!K?ie.call.apply(ie,[null].concat(t)):K=setTimeout(function(){K=null,ie.call.apply(ie,[null].concat(t))},pt)});function vt(){De&&(De=!1,ht(m,A))}function Ve(){we.forEach(function(e){window.document.removeEventListener(e,gt,{passive:!1})}),xe.forEach(function(e){window.document.removeEventListener(e,Ve,{passive:!1})}),L({reset:!0}),oe&&(function(e){e&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e)}(oe),oe=null),m&&(at.stop(),vt(),te=!0,function(e){function t(){ve(w.ghost,"animated"),w.ghost.style.transitionDuration=null,lt().removeChild(w.ghost),e()}function n(v,h,F){var Ye=v.top,ae=v.left;j(w.ghost,"animated"),F&&j(w.ghost.firstElementChild,F),w.topLeft.x=ae,w.topLeft.y=Ye,Ge(h),setTimeout(function(){t()},h+20)}function o(v,h){j(w.ghost,"animated"),Ge(v,.9,!0),setTimeout(function(){h()},v+20)}if(m.targetElement){var r=k.filter(function(v){return v.element===m.targetElement})[0];!(y=r.getOptions()).shouldAnimateDrop||y.shouldAnimateDrop(m.container.getOptions(),m.payload)?n(r.getDragResult().shadowBeginEnd.rect,Math.max(150,r.getOptions().animationDuration/2),r.getOptions().dropClass):t()}else{var a=k.filter(function(v){return v===m.container})[0];if(a){var u=a.getOptions(),s=u.behaviour,d=u.removeOnDropOut;if(s!=="move"&&s!=="contain"||!Ee&&d||!a.getDragResult())o(a.getOptions().animationDuration,t);else{var i=a.layout.getContainerRectangles();if(!ke(i.visibleRect)&&ke(i.lastVisibleRect))n({top:i.lastVisibleRect.top,left:i.lastVisibleRect.left},a.getOptions().animationDuration,a.getOptions().dropClass);else{var l=a.getDragResult(),c=l.removedIndex,f=l.elementSize,g=a.layout;a.getTranslateCalculator({dragResult:{removedIndex:c,addedIndex:c,elementSize:f,pos:void 0,shadowBeginEnd:void 0}});var p=0<c?g.getBeginEnd(a.draggables[c-1]).end:g.getBeginEndOfContainer().begin;n(g.getTopLeftOfElementBegin(p),a.getOptions().animationDuration,a.getOptions().dropClass)}}}else o(Z.animationDuration,t)}var y}(function(){yt(Y=!1);for(var e=A||[],t=e.shift();t!==void 0;)t.handleDrop(m),t=e.shift();J=ne=m=w=G=A=null,te=!1}))}function Oe(e){return e.touches?e.touches[0]:e}function ht(e,t){var n=!1;t.forEach(function(o){var r=o.handleDrag(e);n=!!r.containerBoxChanged||!1,r.containerBoxChanged=!1}),n&&(n=!1,requestAnimationFrame(function(){k.forEach(function(o){o.layout.invalidateRects(),o.onTranslated()})}))}function He(e){var t=e,n=null;return function(o){return!(n!==null||!Y||te)&&(n=requestAnimationFrame(function(){Y&&!te&&(ht(o,t),L({draggableInfo:o})),n=null}),!0)}}function Xe(e,t){return e.getOptions().autoScrollEnabled?tn(t,e.getScrollMaxSpeed()):function(n){return null}}function yt(e){k.forEach(function(t){var n=e?t.getOptions().onDragStart:t.getOptions().onDragEnd;if(n){var o={isSource:t===m.container,payload:m.payload};t.isDragRelevant(m.container,m.payload)?o.willAcceptDrop=!0:o.willAcceptDrop=!1,n(o)}})}function bt(e,t){if(G!==null){Y=!0;var n=k.filter(function(o){return G.parentElement===o.element})[0];n.setDraggables(),ne=n.getOptions().lockAxis?n.getOptions().lockAxis.toLowerCase():null,m=function(o){var r=k.filter(function(d){return o.parentElement===d.element})[0],a=r.draggables.indexOf(o),u=r.getOptions().getGhostParent,s=o.getBoundingClientRect();return{container:r,element:o,size:{offsetHeight:s.bottom-s.top,offsetWidth:s.right-s.left},elementIndex:a,payload:r.getOptions().getChildPayload?r.getOptions().getChildPayload(a):void 0,targetElement:null,position:{x:0,y:0},groupName:r.getOptions().groupName,ghostParent:u?u():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(G),w=function(o,r,a,u){var s=r.x,d=r.y,i=o.getBoundingClientRect(),l=i.left,c=i.top,f=i.right,g=i.bottom,p=Yt(a.layout.getContainerRectangles().visibleRect,i),y=p.left+(p.right-p.left)/2,v=p.top+(p.bottom-p.top)/2,h=o.cloneNode(!0);return h.style.zIndex="1000",h.style.boxSizing="border-box",h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.transform=null,h.style.removeProperty("transform"),a.shouldUseTransformForGhost()?h.style.transform="translate3d(".concat(l,"px, ").concat(c,"px, 0)"):(h.style.top="".concat(c,"px"),h.style.left="".concat(l,"px")),h.style.width=f-l+"px",h.style.height=g-c+"px",h.style.overflow="visible",h.style.transition=null,h.style.removeProperty("transition"),h.style.pointerEvents="none",h.style.userSelect="none",a.getOptions().dragClass?setTimeout(function(){j(h.firstElementChild,a.getOptions().dragClass);var F=window.getComputedStyle(h.firstElementChild).cursor;oe=it(F)}):oe=it(u),j(h,a.getOptions().orientation||"vertical"),j(h,Q),{ghost:h,centerDelta:{x:y-s,y:v-d},positionDelta:{left:l-s,top:c-d},topLeft:{x:l,y:c}}}(G,{x:e.clientX,y:e.clientY},m.container,t),m.position={x:e.clientX+w.centerDelta.x,y:e.clientY+w.centerDelta.y},m.mousePosition={x:e.clientX,y:e.clientY},A=k.filter(function(o){return o.isDragRelevant(n,m.payload)}),m.relevantContainers=A,J=He(A),L&&L({reset:!0,draggableInfo:void 0}),L=Xe(n,A),A.forEach(function(o){return o.prepareDrag(o,A)}),yt(!0),J(m),lt().appendChild(w.ghost),at.start()}}var Re=null;function Ge(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],o=w,r=o.ghost,a=o.topLeft,u=a.x,s=a.y,d=!m.container||m.container.shouldUseTransformForGhost(),i=d?"translate3d(".concat(u,"px,").concat(s,"px, 0)"):null;if(t!==1&&(i=i?"".concat(i," scale(").concat(t,")"):"scale(".concat(t,")")),0<e)return w.ghost.style.transitionDuration=e+"ms",void requestAnimationFrame(function(){i&&(r.style.transform=i),d||(r.style.left=u+"px",r.style.top=s+"px"),Re=null,n&&(r.style.opacity="0")});Re===null&&(Re=requestAnimationFrame(function(){i&&(r.style.transform=i),d||(r.style.left=u+"px",r.style.top=s+"px"),Re=null,n&&(r.style.opacity="0")}))}function cn(){if(Y&&!Ee&&!te){De=!(Ee=!0);var e=Object.assign({},m,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});A.forEach(function(t){t.handleDrag(e)}),m.targetElement=null,m.cancelDrop=!0,Ve(),Ee=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var e=window.document.head||window.document.getElementsByTagName("head")[0],t=window.document.createElement("style");t.id="smooth-dnd-style-definitions";var n=Le(nn);t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(window.document.createTextNode(n)),e.appendChild(t)}}();var Ae=(an(),{register:function(e){(function(t){k.push(t),Y&&m&&t.isDragRelevant(m.container,m.payload)&&(A.push(t),t.prepareDrag(t,A),L&&L({reset:!0,draggableInfo:void 0}),L=Xe(t,A),J=He(A),t.handleDrag(m))})(e)},unregister:function(e){(function(t){if(k.splice(k.indexOf(t),1),Y&&m){m.container===t&&t.fireRemoveElement(),m.targetElement===t.element&&(m.targetElement=null);var n=A.indexOf(t);-1<n&&(A.splice(n,1),L&&L({reset:!0,draggableInfo:void 0}),L=Xe(t,A),J=He(A))}})(e)},isDragging:function(){return Y},cancelDrag:cn});function wt(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Z.animationDuration;t?(j(e,M),e.style.transitionDuration=n+"ms"):(ve(e,M),e.style.removeProperty("transition-duration"))}function xt(e){var t=[];return Array.prototype.forEach.call(e.children,function(n){if(n.nodeType===Node.ELEMENT_NODE){var o=n;Ne(n,C)||(o=function(r){if(B.wrapChild){var a=window.document.createElement("div");return a.className="".concat(C),r.parentElement.insertBefore(a,r),a.appendChild(r),a}return r}(n)),o[_]=0,t.push(o)}else e.removeChild(n)}),t}function dn(e){var t=e.layout;return function(n,o){var r=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function a(u,s,d,i){var l=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(i<d)return d;if(d===i){var c=t.getBeginEnd(u[d]),f=c.begin,g=c.end;return l?s<(g+f)/2?d:d+1:d}var p=Math.floor((i+d)/2),y=t.getBeginEnd(u[p]),v=y.begin,h=y.end;return s<v?a(u,s,d,p-1,l):h<s?a(u,s,p+1,i,l):l?s<(h+v)/2?p:p+1:p}(n,o,0,n.length-1,r)}}function fn(e){var t=e.element,n=e.draggables,o=e.layout,r=e.getOptions,a=function(s){var d=s.element,i=s.draggables,l=s.layout;return function(){i.forEach(function(c){wt(c,!1),l.setTranslation(c,0),l.setVisibility(c,!0)}),d[H]&&(d[H].parentNode.removeChild(d[H]),d[H]=null)}}({element:t,draggables:n,layout:o}),u=(B.dropHandler||tt)({element:t,draggables:n,layout:o,getOptions:r});return function(s,d){var i=d.addedIndex,l=d.removedIndex,c=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(a(),!s.cancelDrop&&(s.targetElement||r().removeOnDropOut||c)){var f={removedIndex:l,addedIndex:i!==null?l!==null&&l<i?i-1:i:null,payload:s.payload};u(f,r().onDrop)}}}function Et(e){var t=e.element,n=e.getOptions,o=null;return function(r){var a=r.draggableInfo,u=o;return o==null&&a.container.element===t&&n().behaviour!=="copy"&&(u=o=a.elementIndex),{removedIndex:u}}}function Dt(e){var t=e.draggables,n=e.layout;return function(o){var r=o.dragResult;r.removedIndex!==null&&n.setVisibility(t[r.removedIndex],!1)}}function Ct(e){var t=e.element,n=e.layout;return function(o){var r=o.draggableInfo,a=document.elementFromPoint(r.position.x,r.position.y);if(a){var u=qt(a,r.relevantContainers);if(u&&u.element===t)return{pos:n.getPosition(r.position)}}return{pos:null}}}function St(e){var t=e.layout,n=null;return function(o){var r=o.draggableInfo;return o.dragResult.pos===null?n=null:{elementSize:n=n||t.getSize(r.size)}}}function Ot(e){var t=e.element;return function(n){var o=n.draggableInfo,r=n.dragResult;(function(a,u){var s=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];u&&s?a.targetElement=u:a.targetElement===u&&(a.targetElement=null)})(o,t,!!r.pos)}}function gn(){return function(e){return e.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function pn(e){var t=e.layout,n=null;return function(o){var r=o.dragResult.addedIndex;if(r===n)return null;n=r;var a=t.getBeginEndOfContainer(),u=a.begin;return a.end,{shadowBeginEnd:{rect:t.getTopLeftOfElementBegin(u)}}}}function mn(e){var t=e.layout,n=e.element,o=e.getOptions,r=null;return function(a){var u=a.dragResult,s=u.elementSize,d=u.shadowBeginEnd,i=u.addedIndex,l=u.dropPlaceholderContainer,c=o();if(c.dropPlaceholder){var f=typeof c.dropPlaceholder=="boolean"?{}:c.dropPlaceholder,g=f.animationDuration,p=f.className,y=f.showOnTop;if(i===null)return l&&r!==null&&n.removeChild(l),r=null,{dropPlaceholderContainer:void 0};if(!l){var v=document.createElement("div"),h=document.createElement("div");h.className=Te,v.className="".concat(_e," ").concat(p||Pe),(l=document.createElement("div")).className="".concat(ge),l.style.position="absolute",g!==void 0&&(l.style.transition="all ".concat(g,"ms ease")),l.appendChild(h),h.appendChild(v),t.setSize(l.style,s+"px"),l.style.pointerEvents="none",y?n.appendChild(l):n.insertBefore(l,n.firstElementChild)}return r!==i&&d.dropArea&&t.setBegin(l.style,d.dropArea.begin-t.getBeginEndOfContainer().begin+"px"),r=i,{dropPlaceholderContainer:l}}return null}}function vn(e){var t=At(e);return function(n){var o=n.draggableInfo,r=n.dragResult;return o.invalidateShadow?t({draggableInfo:o,dragResult:r}):null}}function hn(e){var t=function(n){var o=n.draggables,r=dn({layout:n.layout});return function(a){var u=a.dragResult,s=u.shadowBeginEnd,d=u.pos;if(s)return s.begin+s.beginAdjustment<=d&&s.end>=d?null:d<s.begin+s.beginAdjustment?r(o,d):d>s.end?r(o,d)+1:o.length;var i=r(o,d,!0);return i!==null?i:o.length}}(e);return function(n){var o=n.dragResult,r=null;return o.pos!==null&&(r=t({dragResult:o}))===null&&(r=o.addedIndex),{addedIndex:r}}}function yn(){var e=null;return function(t){var n=t.dragResult,o=n.addedIndex,r=n.shadowBeginEnd;o!==e&&e!==null&&r&&(r.beginAdjustment=0),e=o}}function bn(e){var t=e.element,n=e.draggables,o=e.layout,r=e.getOptions,a=null;return function(u){var s=u.dragResult,d=s.addedIndex,i=s.removedIndex,l=s.elementSize;if(i===null){if(d!==null){if(!a){var c=o.getBeginEndOfContainer();c.end=c.begin+o.getSize(t);var f=o.getScrollSize(t)>o.getSize(t)?c.begin+o.getScrollSize(t)-o.getScrollValue(t):c.end,g=0<n.length?o.getBeginEnd(n[n.length-1]).end-n[n.length-1][_]:c.begin;if(f<g+l){(a=window.document.createElement("div")).className=P+" "+r().orientation;var p=0<n.length?l+g-f:l;return o.setSize(a.style,"".concat(p,"px")),t.appendChild(a),t[H]=a,{containerBoxChanged:!0}}}}else if(a){o.setTranslation(a,0);var y=a;return a=null,t.removeChild(y),{containerBoxChanged:!(t[H]=null)}}}}}function Rt(e){var t=e.draggables,n=e.layout,o=null,r=null;return function(a){var u=a.dragResult,s=u.addedIndex,d=u.removedIndex,i=u.elementSize;if(s!==o||d!==r){for(var l=0;l<t.length;l++)if(l!==d){var c=t[l],f=0;d!==null&&d<l&&(f-=i),s!==null&&s<=l&&(f+=i),n.setTranslation(c,f)}return{addedIndex:o=s,removedIndex:r=d}}}}function At(e){var t=e.draggables,n=e.layout,o=null;return function(r){var a=r.draggableInfo,u=r.dragResult,s=u.addedIndex,d=u.removedIndex,i=u.elementSize,l=u.pos,c=u.shadowBeginEnd;if(l===null)return{shadowBeginEnd:o=null};if(s===null||!a.invalidateShadow&&s===o)return null;var f=s-1,g=Number.MIN_SAFE_INTEGER,p=0,y=0,v=null,h=null;if(f===d&&f--,-1<f){var F=n.getSize(t[f]);if(h=n.getBeginEnd(t[f]),i<F){var Ye=(F-i)/2;g=h.end-Ye}else g=h.end;p=h.end}else h={end:n.getBeginEndOfContainer().begin},p=n.getBeginEndOfContainer().begin;var ae=Number.MAX_SAFE_INTEGER,le=s;if(le===d&&le++,le<t.length){var Tt=n.getSize(t[le]);if(v=n.getBeginEnd(t[le]),i<Tt){var En=(Tt-i)/2;ae=v.begin+En}else ae=v.begin;y=v.begin}else v={begin:n.getContainerRectangles().rect.end},y=n.getContainerRectangles().rect.end-n.getContainerRectangles().rect.begin;var Dn=h&&v?n.getTopLeftOfElementBegin(h.end):null;return o=s,{shadowBeginEnd:{dropArea:{begin:p,end:y},begin:g,end:ae,rect:Dn,beginAdjustment:c?c.beginAdjustment:0}}}}function wn(){var e=null;return function(t){var n=t.dragResult,o=n.pos,r=n.addedIndex,a=n.shadowBeginEnd;if(o!==null){if(r!=null&&e===null){if(o<a.begin){var u=o-a.begin-5;a.beginAdjustment=u}e=r}}else e=null}}function It(e){var t=e.getOptions,n=!1,o=t();return function(r){var a=!!r.dragResult.pos;a!==n&&((n=a)?o.onDragEnter&&o.onDragEnter():o.onDragLeave&&o.onDragLeave())}}function Bt(e){var t=e.getOptions,n=null,o=t();return function(r){var a=r.dragResult,u=a.addedIndex,s=a.removedIndex,d=r.draggableInfo,i=d.payload,l=d.element;if(o.onDropReady&&u!==null&&n!==u){var c=n=u;s!==null&&s<u&&c--,o.onDropReady({addedIndex:c,removedIndex:s,payload:i,element:l?l.firstElementChild:void 0})}}}function Pt(e){return e.getOptions().behaviour==="drop-zone"?_t(e)(Et,Dt,Ct,St,Ot,gn,pn,It,Bt):_t(e)(Et,Dt,Ct,St,Ot,vn,hn,yn,bn,Rt,At,mn,wn,It,Bt)}function _t(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n.map(function(u){return u(e)}),a=null;return function(u){return a=r.reduce(function(s,d){return Object.assign(s,d({draggableInfo:u,dragResult:s}))},a||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function xn(e){return function(t){var n=Object.assign({},Z,t),o=null,r=null,a=function(f,g){var p=xt(f),y=g();return j(f,"".concat(E," ").concat(y.orientation)),{element:f,draggables:p,getOptions:g,layout:Zt(f,y.orientation,y.animationDuration)}}(e,c),u=Pt(a),s=fn(a),d=function(f,g){var p=[];function y(){p&&(p.forEach(function(v){return v.removeEventListener("scroll",g)}),window.removeEventListener("scroll",g))}return function(){for(var v=f;v;)(Je(v,"x")||Je(v,"y"))&&p.push(v),v=v.parentElement}(),{dispose:function(){y(),p=null},start:function(){p&&(p.forEach(function(v){return v.addEventListener("scroll",g)}),window.addEventListener("scroll",g))},stop:y}}(e,function(){a.layout.invalidateRects(),i()});function i(){r!==null&&(r.invalidateShadow=!0,o=u(r),r.invalidateShadow=!1)}function l(f,g){for(var p=xt(g),y=0;y<p.length;y++)f[y]=p[y];for(var v=0;v<f.length-p.length;v++)f.pop()}function c(){return n}return{element:e,draggables:a.draggables,isDragRelevant:function(f){var g=f.element,p=f.getOptions;return function(y,v){var h=p();if(h.shouldAcceptDrop)return h.shouldAcceptDrop(y.getOptions(),v);var F=y.getOptions();return h.behaviour!=="copy"&&ee(g,"."+C)!==y.element&&(y.element===g||!(!F.groupName||F.groupName!==h.groupName))}}(a),layout:a.layout,dispose:function(f){d.dispose(),function(g){B.wrapChild&&Array.prototype.forEach.call(g.children,function(p){p.nodeType===Node.ELEMENT_NODE&&Ne(p,C)&&(g.insertBefore(p.firstElementChild,p),g.removeChild(p))})}(f.element)},prepareDrag:function(f,g){var p=f.element,y=a.draggables;l(y,p),f.layout.invalidateRects(),y.forEach(function(v){return wt(v,!0,c().animationDuration)}),d.start()},handleDrag:function(f){return o=u(r=f)},handleDrop:function(f){d.stop(),o&&o.dropPlaceholderContainer&&e.removeChild(o.dropPlaceholderContainer),r=null,u=Pt(a),s(f,o),o=null},fireRemoveElement:function(){s(r,Object.assign({},o,{addedIndex:null}),!0),o=null},getDragResult:function(){return o},getTranslateCalculator:function(f){return Rt(a)(f)},onTranslated:function(){i()},setDraggables:function(){l(a.draggables,e)},getScrollMaxSpeed:function(){return B.maxScrollSpeed},shouldUseTransformForGhost:function(){return B.useTransformForGhost===!0},getOptions:c,setOptions:function(f){var g=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];n=g===!1?Object.assign({},Z,f):Object.assign({},Z,n,f)}}}}var B=function(e,t){var n=xn(e)(t);return e[z]=n,Ae.register(n),{dispose:function(){Ae.unregister(n),n.dispose(n)},setOptions:function(o,r){n.setOptions(o,r)}}};function Ie(e,t,n){Object.defineProperty(e,n,{set:function(o){t[n]=o},get:function(){return t[n]}})}B.wrapChild=!0,B.cancelDrag=function(){Ae.cancelDrag()},B.isDragging=function(){return Ae.isDragging()};function q(e,t){return console.warn('default export is deprecated. please use named export "smoothDnD"'),B(e,t)}q.cancelDrag=function(){B.cancelDrag()},q.isDragging=function(){return B.isDragging()},Ie(q,B,"useTransformForGhost"),Ie(q,B,"maxScrollSpeed"),Ie(q,B,"wrapChild"),Ie(q,B,"dropHandler"),D.smoothDnD=B,D.constants=Xt,D.dropHandlers=Ut,D.default=q,Object.defineProperty(D,"__esModule",{value:!0})})}(se,se.exports)),se.exports}var ue=Wn();function Vt(x){return x?typeof x=="string"||typeof x=="object"&&(typeof x.value=="string"||typeof x.value=="function"||typeof x.value=="object"):!0}function Ht(x,I){const D=x.$props.tag;if(D){if(typeof D=="string"){const b={value:D};return I&&(b.props={class:I}),b}else if(typeof D=="object"){const b={value:D.value||"div",props:D.props||{}};return I&&(b.props.class?Array.isArray(b.props.class)?b.props.class.push(I):b.props.class=[I,b.props.class]:b.props.class=I),b}}return{value:"div"}}ue.smoothDnD.dropHandler=ue.dropHandlers.reactDropHandler().handler;ue.smoothDnD.wrapChild=!1;const kt={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var $n=ce({name:"Container",mounted(){const x=Object.assign({},this.$props);for(const I in kt)x[kt[I]]=D=>{this.$emit(I,D)};this.containerElement=this.$refs.container||this.$el,this.container=ue.smoothDnD(this.containerElement,x)},unmounted(){if(this.container)try{this.container.dispose()}catch{}},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{orientation:{type:String,default:"vertical"},removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},animationDuration:{type:Number,default:250},behaviour:String,groupName:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Vt,default:"div"}},render(){const x=Ht(this);return Ft(x.value,Object.assign({},{ref:"container"},x.props),this.$slots.default())}}),Qn=ce({name:"Draggable",props:{tag:{validator:Vt,default:"div"}},render:function(){const x=Ht(this,ue.constants.wrapperClass);return Ft(x.value,Object.assign({},x.props),this.$slots.default())}});const Un=ce({__name:"ChecklistEdit",props:{checklist:{}},setup(x,{expose:I}){const D=Lt(),b=x,O=Mt(b.checklist?.items.map(E=>({id:E.id,caption:E.caption}))),z=()=>{O.value.push({id:C(O.value)+1,caption:""})},C=E=>E.reduce((T,P)=>P.id>T?P.id:T,0),M=(E,T)=>{E.caption=T},_=E=>{O.value=O.value.filter(T=>T.id!==E.id)},V=({removedIndex:E,addedIndex:T})=>{if(E!==null&&T!==null){const P=O.value.splice(E,1)[0];P&&O.value.splice(T,0,P)}};return I({save:()=>{D.saveItems(b.checklist,O.value)}}),(E,T)=>($(),Be("div",null,[N(Cn,{separator:""},{default:W(()=>[N(qe($n),{lockAxis:"y",dragHandleSelector:".drag-handle",onDrop:V},{default:W(()=>[($(!0),Be(_n,null,Tn(O.value,P=>($(),We(qe(Qn),{key:P.id},{default:W(()=>[zn(($(),We(Sn,{clickable:"",key:P.id},{default:W(()=>[N(zt,{side:""},{default:W(()=>[N(Nn,{name:"drag_indicator",class:"drag-handle"})]),_:1}),N(zt,null,{default:W(()=>[N(Yn,{item:P,onUpdate:H=>M(P,H),onDelete:()=>_(P)},null,8,["item","onUpdate","onDelete"])]),_:2},1024)]),_:2},1024)),[[kn]])]),_:2},1024))),128))]),_:1})]),_:1}),N(jt,{round:"",icon:"add",onClick:z,class:"q-mt-md"})]))}}),Jn={key:0,class:"col"},no=ce({__name:"ChecklistEditPage",setup(x){const I=Ln(),D=Vn(),b=Lt(),O=+(I.params&&I.params.id||0),z=Mn(()=>b.checklists.find(_=>_.id===O)),C=jn("checklistEdit"),M=async()=>{C.value&&C.value.save(),await D.replace({name:"checklist_view",params:{id:O}})};return(_,V)=>($(),We(On,{class:"row items-start justify-evenly"},{default:W(()=>[z.value?($(),Be("div",Jn,[N(In),N(An,{checklist:z.value,viewMode:qe(Rn).Edit,onSave:M,class:"q-mb-sm q-mx-sm"},null,8,["checklist","viewMode"]),N(Un,{checklist:z.value,ref:"checklistEdit",class:"q-mx-sm"},null,8,["checklist"])])):Fn("",!0)]),_:1}))}});export{no as default};
